{
  "id": "http://validationtest.org/fhir/StructureDefinition/ProfiledBackboneAndContentref",
  "nested": {
    "id": "#Questionnaire#constraints",
    "fhirPath-dom-2": {
      "key": "dom-2",
      "expression": "contained.contained.empty()",
      "severity": "error",
      "bestPractice": false,
      "humanDescription": "If the resource is contained in another resource, it SHALL NOT contain nested Resources"
    },
    "fhirPath-dom-3": {
      "key": "dom-3",
      "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
      "severity": "error",
      "bestPractice": false,
      "humanDescription": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource"
    },
    "fhirPath-dom-4": {
      "key": "dom-4",
      "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
      "severity": "error",
      "bestPractice": false,
      "humanDescription": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated"
    },
    "fhirPath-dom-5": {
      "key": "dom-5",
      "expression": "contained.meta.security.empty()",
      "severity": "error",
      "bestPractice": false,
      "humanDescription": "If a resource is contained in another resource, it SHALL NOT have a security label"
    },
    "fhirPath-dom-6": {
      "key": "dom-6",
      "expression": "text.`div`.exists()",
      "severity": "warning",
      "bestPractice": true,
      "humanDescription": "A resource should have narrative for robust management"
    },
    "fhirPath-que-0": {
      "key": "que-0",
      "expression": "name.matches('[A-Z]([A-Za-z0-9_]){0,254}')",
      "severity": "warning",
      "bestPractice": false,
      "humanDescription": "Name should be usable as an identifier for the module by machine processing applications such as code generation"
    },
    "fhirPath-que-2": {
      "key": "que-2",
      "expression": "descendants().linkId.isDistinct()",
      "severity": "error",
      "bestPractice": false,
      "humanDescription": "The link ids for groups and questions must be unique within the questionnaire"
    }
  },
  "children": {
    "id [0..1]": {
      "id": "#Questionnaire.id",
      "ref": "http://hl7.org/fhir/StructureDefinition/id",
      "xml-order": 10
    },
    "meta [0..1]": {
      "id": "#Questionnaire.meta",
      "ref": "http://hl7.org/fhir/StructureDefinition/Meta",
      "xml-order": 20
    },
    "implicitRules [0..1]": {
      "id": "#Questionnaire.implicitRules",
      "ref": "http://hl7.org/fhir/StructureDefinition/uri",
      "xml-order": 30
    },
    "language [0..1]": {
      "id": "#Questionnaire.language",
      "binding": {
        "strength": "preferred",
        "abstractAllowed": true,
        "valueSet": "http://hl7.org/fhir/ValueSet/languages"
      },
      "ref": "http://hl7.org/fhir/StructureDefinition/code",
      "xml-order": 40
    },
    "text [0..1]": {
      "id": "#Questionnaire.text",
      "ref": "http://hl7.org/fhir/StructureDefinition/Narrative",
      "xml-order": 50
    },
    "contained [0..*]": {
      "id": "#Questionnaire.contained",
      "allOf": [
        {
          "typeschema": "(from InstanceType)"
        },
        {
          "dynaref": "meta.profile"
        }
      ],
      "xml-order": 60
    },
    "extension [0..*]": {
      "id": "#Questionnaire.extension",
      "nested": {
        "id": "#Questionnaire.extension#constraints",
        "fhirPath-ext-1": {
          "key": "ext-1",
          "expression": "extension.exists() != value.exists()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Must have either extensions or value[x], not both"
        }
      },
      "allOf": [
        {
          "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
        },
        {
          "dynaref": "url"
        }
      ],
      "xml-order": 70
    },
    "modifierExtension [0..*]": {
      "id": "#Questionnaire.modifierExtension",
      "nested": {
        "id": "#Questionnaire.modifierExtension#constraints",
        "fhirPath-ext-1": {
          "key": "ext-1",
          "expression": "extension.exists() != value.exists()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Must have either extensions or value[x], not both"
        }
      },
      "allOf": [
        {
          "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
        },
        {
          "dynaref": "url"
        }
      ],
      "xml-order": 80
    },
    "url [0..1]": {
      "id": "#Questionnaire.url",
      "ref": "http://hl7.org/fhir/StructureDefinition/uri",
      "xml-order": 90
    },
    "identifier [0..*]": {
      "id": "#Questionnaire.identifier",
      "ref": "http://hl7.org/fhir/StructureDefinition/Identifier",
      "xml-order": 100
    },
    "version [0..1]": {
      "id": "#Questionnaire.version",
      "ref": "http://hl7.org/fhir/StructureDefinition/string",
      "xml-order": 110
    },
    "name [0..1]": {
      "id": "#Questionnaire.name",
      "ref": "http://hl7.org/fhir/StructureDefinition/string",
      "xml-order": 120
    },
    "title [0..1]": {
      "id": "#Questionnaire.title",
      "ref": "http://hl7.org/fhir/StructureDefinition/string",
      "xml-order": 130
    },
    "derivedFrom [0..*]": {
      "id": "#Questionnaire.derivedFrom",
      "ref": "http://hl7.org/fhir/StructureDefinition/canonical",
      "xml-order": 140
    },
    "status [1..1]": {
      "id": "#Questionnaire.status",
      "binding": {
        "strength": "required",
        "abstractAllowed": true,
        "valueSet": "http://hl7.org/fhir/ValueSet/publication-status|4.0.1"
      },
      "ref": "http://hl7.org/fhir/StructureDefinition/code",
      "xml-order": 150
    },
    "experimental [0..1]": {
      "id": "#Questionnaire.experimental",
      "ref": "http://hl7.org/fhir/StructureDefinition/boolean",
      "xml-order": 160
    },
    "subjectType [0..*]": {
      "id": "#Questionnaire.subjectType",
      "binding": {
        "strength": "required",
        "abstractAllowed": true,
        "valueSet": "http://hl7.org/fhir/ValueSet/resource-types|4.0.1"
      },
      "ref": "http://hl7.org/fhir/StructureDefinition/code",
      "xml-order": 170
    },
    "date [0..1]": {
      "id": "#Questionnaire.date",
      "ref": "http://hl7.org/fhir/StructureDefinition/dateTime",
      "xml-order": 180
    },
    "publisher [0..1]": {
      "id": "#Questionnaire.publisher",
      "ref": "http://hl7.org/fhir/StructureDefinition/string",
      "xml-order": 190
    },
    "contact [0..*]": {
      "id": "#Questionnaire.contact",
      "ref": "http://hl7.org/fhir/StructureDefinition/ContactDetail",
      "xml-order": 200
    },
    "description [0..1]": {
      "id": "#Questionnaire.description",
      "ref": "http://hl7.org/fhir/StructureDefinition/markdown",
      "xml-order": 210
    },
    "useContext [0..*]": {
      "id": "#Questionnaire.useContext",
      "ref": "http://hl7.org/fhir/StructureDefinition/UsageContext",
      "xml-order": 220
    },
    "jurisdiction [0..*]": {
      "id": "#Questionnaire.jurisdiction",
      "binding": {
        "strength": "extensible",
        "abstractAllowed": true,
        "valueSet": "http://hl7.org/fhir/ValueSet/jurisdiction"
      },
      "ref": "http://hl7.org/fhir/StructureDefinition/CodeableConcept",
      "xml-order": 230
    },
    "purpose [0..1]": {
      "id": "#Questionnaire.purpose",
      "ref": "http://hl7.org/fhir/StructureDefinition/markdown",
      "xml-order": 240
    },
    "copyright [0..1]": {
      "id": "#Questionnaire.copyright",
      "ref": "http://hl7.org/fhir/StructureDefinition/markdown",
      "xml-order": 250
    },
    "approvalDate [0..1]": {
      "id": "#Questionnaire.approvalDate",
      "ref": "http://hl7.org/fhir/StructureDefinition/date",
      "xml-order": 260
    },
    "lastReviewDate [0..1]": {
      "id": "#Questionnaire.lastReviewDate",
      "ref": "http://hl7.org/fhir/StructureDefinition/date",
      "xml-order": 270
    },
    "effectivePeriod [0..1]": {
      "id": "#Questionnaire.effectivePeriod",
      "ref": "http://hl7.org/fhir/StructureDefinition/Period",
      "xml-order": 280
    },
    "code [0..*]": {
      "id": "#Questionnaire.code",
      "binding": {
        "strength": "example",
        "abstractAllowed": true,
        "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-questions"
      },
      "ref": "http://hl7.org/fhir/StructureDefinition/Coding",
      "xml-order": 290
    },
    "item [1..100]": {
      "id": "#Questionnaire.item",
      "nested": {
        "id": "#Questionnaire.item#constraints",
        "fhirPath-que-1": {
          "key": "que-1",
          "expression": "(type='group' implies item.empty().not()) and (type.trace('type')='display' implies item.trace('item').empty())",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Group items must have nested items, display items cannot have nested items"
        },
        "fhirPath-que-3": {
          "key": "que-3",
          "expression": "type!='display' or code.empty()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Display items cannot have a \"code\" asserted"
        },
        "fhirPath-que-4": {
          "key": "que-4",
          "expression": "answerOption.empty() or answerValueSet.empty()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "A question cannot have both answerOption and answerValueSet"
        },
        "fhirPath-que-5": {
          "key": "que-5",
          "expression": "(type ='choice' or type = 'open-choice' or type = 'decimal' or type = 'integer' or type = 'date' or type = 'dateTime' or type = 'time' or type = 'string' or type = 'quantity') or (answerValueSet.empty() and answerOption.empty())",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Only 'choice' and 'open-choice' items can have answerValueSet"
        },
        "fhirPath-que-6": {
          "key": "que-6",
          "expression": "type!='display' or (required.empty() and repeats.empty())",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Required and repeat aren't permitted for display items"
        },
        "fhirPath-que-8": {
          "key": "que-8",
          "expression": "(type!='group' and type!='display') or initial.empty()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Initial values can't be specified for groups or display items"
        },
        "fhirPath-que-9": {
          "key": "que-9",
          "expression": "type!='display' or readOnly.empty()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Read-only can't be specified for \"display\" items"
        },
        "fhirPath-que-10": {
          "key": "que-10",
          "expression": "(type in ('boolean' | 'decimal' | 'integer' | 'string' | 'text' | 'url' | 'open-choice')) or maxLength.empty()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Maximum length can only be declared for simple question types"
        },
        "fhirPath-que-11": {
          "key": "que-11",
          "expression": "answerOption.empty() or initial.empty()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "If one or more answerOption is present, initial[x] must be missing"
        },
        "fhirPath-que-12": {
          "key": "que-12",
          "expression": "enableWhen.count() > 2 implies enableBehavior.exists()",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "If there are more than one enableWhen, enableBehavior must be specified"
        },
        "fhirPath-que-13": {
          "key": "que-13",
          "expression": "repeats=true or initial.count() <= 1",
          "severity": "error",
          "bestPractice": false,
          "humanDescription": "Can only have multiple initial values for repeating items"
        }
      },
      "children": {
        "id [0..1]": {
          "id": "#Questionnaire.item.id",
          "ref": "http://hl7.org/fhirpath/System.String",
          "xml-order": 10
        },
        "extension [0..*]": {
          "id": "#Questionnaire.item.extension",
          "nested": {
            "id": "#Questionnaire.item.extension#constraints",
            "fhirPath-ext-1": {
              "key": "ext-1",
              "expression": "extension.exists() != value.exists()",
              "severity": "error",
              "bestPractice": false,
              "humanDescription": "Must have either extensions or value[x], not both"
            }
          },
          "allOf": [
            {
              "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
            },
            {
              "dynaref": "url"
            }
          ],
          "xml-order": 20
        },
        "modifierExtension [0..*]": {
          "id": "#Questionnaire.item.modifierExtension",
          "nested": {
            "id": "#Questionnaire.item.modifierExtension#constraints",
            "fhirPath-ext-1": {
              "key": "ext-1",
              "expression": "extension.exists() != value.exists()",
              "severity": "error",
              "bestPractice": false,
              "humanDescription": "Must have either extensions or value[x], not both"
            }
          },
          "allOf": [
            {
              "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
            },
            {
              "dynaref": "url"
            }
          ],
          "xml-order": 30
        },
        "linkId [1..1]": {
          "id": "#Questionnaire.item.linkId",
          "ref": "http://hl7.org/fhir/StructureDefinition/string",
          "xml-order": 40
        },
        "definition [0..1]": {
          "id": "#Questionnaire.item.definition",
          "ref": "http://hl7.org/fhir/StructureDefinition/uri",
          "xml-order": 50
        },
        "code [0..*]": {
          "id": "#Questionnaire.item.code",
          "binding": {
            "strength": "example",
            "abstractAllowed": true,
            "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-questions"
          },
          "ref": "http://hl7.org/fhir/StructureDefinition/Coding",
          "xml-order": 60
        },
        "prefix [0..1]": {
          "id": "#Questionnaire.item.prefix",
          "ref": "http://hl7.org/fhir/StructureDefinition/string",
          "xml-order": 70
        },
        "text [0..1]": {
          "id": "#Questionnaire.item.text",
          "ref": "http://hl7.org/fhir/StructureDefinition/string",
          "xml-order": 80
        },
        "type [1..1]": {
          "id": "#Questionnaire.item.type",
          "binding": {
            "strength": "required",
            "abstractAllowed": true,
            "valueSet": "http://hl7.org/fhir/ValueSet/item-type|4.0.1"
          },
          "ref": "http://hl7.org/fhir/StructureDefinition/code",
          "xml-order": 90
        },
        "enableWhen [0..*]": {
          "id": "#Questionnaire.item.enableWhen",
          "nested": {
            "id": "#Questionnaire.item.enableWhen#constraints",
            "fhirPath-que-7": {
              "key": "que-7",
              "expression": "operator = 'exists' implies (answer is Boolean)",
              "severity": "error",
              "bestPractice": false,
              "humanDescription": "If the operator is 'exists', the value must be a boolean"
            }
          },
          "children": {
            "id [0..1]": {
              "id": "#Questionnaire.item.enableWhen.id",
              "ref": "http://hl7.org/fhirpath/System.String",
              "xml-order": 10
            },
            "extension [0..*]": {
              "id": "#Questionnaire.item.enableWhen.extension",
              "nested": {
                "id": "#Questionnaire.item.enableWhen.extension#constraints",
                "fhirPath-ext-1": {
                  "key": "ext-1",
                  "expression": "extension.exists() != value.exists()",
                  "severity": "error",
                  "bestPractice": false,
                  "humanDescription": "Must have either extensions or value[x], not both"
                }
              },
              "allOf": [
                {
                  "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
                },
                {
                  "dynaref": "url"
                }
              ],
              "xml-order": 20
            },
            "modifierExtension [0..*]": {
              "id": "#Questionnaire.item.enableWhen.modifierExtension",
              "nested": {
                "id": "#Questionnaire.item.enableWhen.modifierExtension#constraints",
                "fhirPath-ext-1": {
                  "key": "ext-1",
                  "expression": "extension.exists() != value.exists()",
                  "severity": "error",
                  "bestPractice": false,
                  "humanDescription": "Must have either extensions or value[x], not both"
                }
              },
              "allOf": [
                {
                  "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
                },
                {
                  "dynaref": "url"
                }
              ],
              "xml-order": 30
            },
            "question [1..1]": {
              "id": "#Questionnaire.item.enableWhen.question",
              "ref": "http://hl7.org/fhir/StructureDefinition/string",
              "xml-order": 40
            },
            "operator [1..1]": {
              "id": "#Questionnaire.item.enableWhen.operator",
              "binding": {
                "strength": "required",
                "abstractAllowed": true,
                "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-enable-operator|4.0.1"
              },
              "ref": "http://hl7.org/fhir/StructureDefinition/code",
              "xml-order": 50
            },
            "answer[x] [1..1]": {
              "id": "#Questionnaire.item.enableWhen.answer[x]",
              "binding": {
                "strength": "example",
                "abstractAllowed": true,
                "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-answers"
              },
              "slice": {
                "ordered": false,
                "defaultAtEnd": false,
                "case": [
                  {
                    "name": "boolean",
                    "condition": {
                      "fhir-type-label": "boolean"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/boolean"
                    }
                  },
                  {
                    "name": "decimal",
                    "condition": {
                      "fhir-type-label": "decimal"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/decimal"
                    }
                  },
                  {
                    "name": "integer",
                    "condition": {
                      "fhir-type-label": "integer"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/integer"
                    }
                  },
                  {
                    "name": "date",
                    "condition": {
                      "fhir-type-label": "date"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/date"
                    }
                  },
                  {
                    "name": "dateTime",
                    "condition": {
                      "fhir-type-label": "dateTime"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/dateTime"
                    }
                  },
                  {
                    "name": "time",
                    "condition": {
                      "fhir-type-label": "time"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/time"
                    }
                  },
                  {
                    "name": "string",
                    "condition": {
                      "fhir-type-label": "string"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/string"
                    }
                  },
                  {
                    "name": "Coding",
                    "condition": {
                      "fhir-type-label": "Coding"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/Coding"
                    }
                  },
                  {
                    "name": "Quantity",
                    "condition": {
                      "fhir-type-label": "Quantity"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/Quantity"
                    }
                  },
                  {
                    "name": "Reference",
                    "condition": {
                      "fhir-type-label": "Reference"
                    },
                    "assertion": {
                      "allOf": [
                        {
                          "ref": "http://hl7.org/fhir/StructureDefinition/Reference"
                        },
                        {
                          "validate": {
                            "via": "reference",
                            "schema": {
                              "allOf": [
                                {
                                  "typeschema": "(from InstanceType)"
                                },
                                {
                                  "dynaref": "meta.profile"
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                ],
                "default": {
                  "name": "default",
                  "condition": {
                    "raise": {
                      "result": "Success"
                    }
                  },
                  "assertion": {
                    "raise": {
                      "result": "Failure",
                      "evidence": [
                        {
                          "issue": {
                            "issueNumber": 1011,
                            "severity": "Error",
                            "message": "Element is a choice, but the instance does not use one of the allowed choice types ('boolean','decimal','integer','date','dateTime','time','string','Coding','Quantity','Reference')",
                            "location": "Location: TODO"
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "xml-order": 60
            }
          },
          "xml-order": 100
        },
        "enableBehavior [0..1]": {
          "id": "#Questionnaire.item.enableBehavior",
          "binding": {
            "strength": "required",
            "abstractAllowed": true,
            "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-enable-behavior|4.0.1"
          },
          "ref": "http://hl7.org/fhir/StructureDefinition/code",
          "xml-order": 110
        },
        "required [0..1]": {
          "id": "#Questionnaire.item.required",
          "ref": "http://hl7.org/fhir/StructureDefinition/boolean",
          "xml-order": 120
        },
        "repeats [0..1]": {
          "id": "#Questionnaire.item.repeats",
          "ref": "http://hl7.org/fhir/StructureDefinition/boolean",
          "xml-order": 130
        },
        "readOnly [0..1]": {
          "id": "#Questionnaire.item.readOnly",
          "ref": "http://hl7.org/fhir/StructureDefinition/boolean",
          "xml-order": 140
        },
        "maxLength [0..1]": {
          "id": "#Questionnaire.item.maxLength",
          "ref": "http://hl7.org/fhir/StructureDefinition/integer",
          "xml-order": 150
        },
        "answerValueSet [0..1]": {
          "id": "#Questionnaire.item.answerValueSet",
          "ref": "http://hl7.org/fhir/StructureDefinition/canonical",
          "xml-order": 160
        },
        "answerOption [0..*]": {
          "id": "#Questionnaire.item.answerOption",
          "children": {
            "id [0..1]": {
              "id": "#Questionnaire.item.answerOption.id",
              "ref": "http://hl7.org/fhirpath/System.String",
              "xml-order": 10
            },
            "extension [0..*]": {
              "id": "#Questionnaire.item.answerOption.extension",
              "nested": {
                "id": "#Questionnaire.item.answerOption.extension#constraints",
                "fhirPath-ext-1": {
                  "key": "ext-1",
                  "expression": "extension.exists() != value.exists()",
                  "severity": "error",
                  "bestPractice": false,
                  "humanDescription": "Must have either extensions or value[x], not both"
                }
              },
              "allOf": [
                {
                  "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
                },
                {
                  "dynaref": "url"
                }
              ],
              "xml-order": 20
            },
            "modifierExtension [0..*]": {
              "id": "#Questionnaire.item.answerOption.modifierExtension",
              "nested": {
                "id": "#Questionnaire.item.answerOption.modifierExtension#constraints",
                "fhirPath-ext-1": {
                  "key": "ext-1",
                  "expression": "extension.exists() != value.exists()",
                  "severity": "error",
                  "bestPractice": false,
                  "humanDescription": "Must have either extensions or value[x], not both"
                }
              },
              "allOf": [
                {
                  "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
                },
                {
                  "dynaref": "url"
                }
              ],
              "xml-order": 30
            },
            "value[x] [1..1]": {
              "id": "#Questionnaire.item.answerOption.value[x]",
              "binding": {
                "strength": "example",
                "abstractAllowed": true,
                "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-answers"
              },
              "slice": {
                "ordered": false,
                "defaultAtEnd": false,
                "case": [
                  {
                    "name": "integer",
                    "condition": {
                      "fhir-type-label": "integer"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/integer"
                    }
                  },
                  {
                    "name": "date",
                    "condition": {
                      "fhir-type-label": "date"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/date"
                    }
                  },
                  {
                    "name": "time",
                    "condition": {
                      "fhir-type-label": "time"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/time"
                    }
                  },
                  {
                    "name": "string",
                    "condition": {
                      "fhir-type-label": "string"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/string"
                    }
                  },
                  {
                    "name": "Coding",
                    "condition": {
                      "fhir-type-label": "Coding"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/Coding"
                    }
                  },
                  {
                    "name": "Reference",
                    "condition": {
                      "fhir-type-label": "Reference"
                    },
                    "assertion": {
                      "allOf": [
                        {
                          "ref": "http://hl7.org/fhir/StructureDefinition/Reference"
                        },
                        {
                          "validate": {
                            "via": "reference",
                            "schema": {
                              "allOf": [
                                {
                                  "typeschema": "(from InstanceType)"
                                },
                                {
                                  "dynaref": "meta.profile"
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                ],
                "default": {
                  "name": "default",
                  "condition": {
                    "raise": {
                      "result": "Success"
                    }
                  },
                  "assertion": {
                    "raise": {
                      "result": "Failure",
                      "evidence": [
                        {
                          "issue": {
                            "issueNumber": 1011,
                            "severity": "Error",
                            "message": "Element is a choice, but the instance does not use one of the allowed choice types ('integer','date','time','string','Coding','Reference')",
                            "location": "Location: TODO"
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "xml-order": 40
            },
            "initialSelected [0..1]": {
              "id": "#Questionnaire.item.answerOption.initialSelected",
              "ref": "http://hl7.org/fhir/StructureDefinition/boolean",
              "xml-order": 50
            }
          },
          "xml-order": 170
        },
        "initial [0..*]": {
          "id": "#Questionnaire.item.initial",
          "children": {
            "id [0..1]": {
              "id": "#Questionnaire.item.initial.id",
              "ref": "http://hl7.org/fhirpath/System.String",
              "xml-order": 10
            },
            "extension [0..*]": {
              "id": "#Questionnaire.item.initial.extension",
              "nested": {
                "id": "#Questionnaire.item.initial.extension#constraints",
                "fhirPath-ext-1": {
                  "key": "ext-1",
                  "expression": "extension.exists() != value.exists()",
                  "severity": "error",
                  "bestPractice": false,
                  "humanDescription": "Must have either extensions or value[x], not both"
                }
              },
              "allOf": [
                {
                  "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
                },
                {
                  "dynaref": "url"
                }
              ],
              "xml-order": 20
            },
            "modifierExtension [0..*]": {
              "id": "#Questionnaire.item.initial.modifierExtension",
              "nested": {
                "id": "#Questionnaire.item.initial.modifierExtension#constraints",
                "fhirPath-ext-1": {
                  "key": "ext-1",
                  "expression": "extension.exists() != value.exists()",
                  "severity": "error",
                  "bestPractice": false,
                  "humanDescription": "Must have either extensions or value[x], not both"
                }
              },
              "allOf": [
                {
                  "ref": "http://hl7.org/fhir/StructureDefinition/Extension"
                },
                {
                  "dynaref": "url"
                }
              ],
              "xml-order": 30
            },
            "value[x] [1..1]": {
              "id": "#Questionnaire.item.initial.value[x]",
              "binding": {
                "strength": "example",
                "abstractAllowed": true,
                "valueSet": "http://hl7.org/fhir/ValueSet/questionnaire-answers"
              },
              "slice": {
                "ordered": false,
                "defaultAtEnd": false,
                "case": [
                  {
                    "name": "boolean",
                    "condition": {
                      "fhir-type-label": "boolean"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/boolean"
                    }
                  },
                  {
                    "name": "decimal",
                    "condition": {
                      "fhir-type-label": "decimal"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/decimal"
                    }
                  },
                  {
                    "name": "integer",
                    "condition": {
                      "fhir-type-label": "integer"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/integer"
                    }
                  },
                  {
                    "name": "date",
                    "condition": {
                      "fhir-type-label": "date"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/date"
                    }
                  },
                  {
                    "name": "dateTime",
                    "condition": {
                      "fhir-type-label": "dateTime"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/dateTime"
                    }
                  },
                  {
                    "name": "time",
                    "condition": {
                      "fhir-type-label": "time"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/time"
                    }
                  },
                  {
                    "name": "string",
                    "condition": {
                      "fhir-type-label": "string"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/string"
                    }
                  },
                  {
                    "name": "uri",
                    "condition": {
                      "fhir-type-label": "uri"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/uri"
                    }
                  },
                  {
                    "name": "Attachment",
                    "condition": {
                      "fhir-type-label": "Attachment"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/Attachment"
                    }
                  },
                  {
                    "name": "Coding",
                    "condition": {
                      "fhir-type-label": "Coding"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/Coding"
                    }
                  },
                  {
                    "name": "Quantity",
                    "condition": {
                      "fhir-type-label": "Quantity"
                    },
                    "assertion": {
                      "ref": "http://hl7.org/fhir/StructureDefinition/Quantity"
                    }
                  },
                  {
                    "name": "Reference",
                    "condition": {
                      "fhir-type-label": "Reference"
                    },
                    "assertion": {
                      "allOf": [
                        {
                          "ref": "http://hl7.org/fhir/StructureDefinition/Reference"
                        },
                        {
                          "validate": {
                            "via": "reference",
                            "schema": {
                              "allOf": [
                                {
                                  "typeschema": "(from InstanceType)"
                                },
                                {
                                  "dynaref": "meta.profile"
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                ],
                "default": {
                  "name": "default",
                  "condition": {
                    "raise": {
                      "result": "Success"
                    }
                  },
                  "assertion": {
                    "raise": {
                      "result": "Failure",
                      "evidence": [
                        {
                          "issue": {
                            "issueNumber": 1011,
                            "severity": "Error",
                            "message": "Element is a choice, but the instance does not use one of the allowed choice types ('boolean','decimal','integer','date','dateTime','time','string','uri','Attachment','Coding','Quantity','Reference')",
                            "location": "Location: TODO"
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "xml-order": 40
            }
          },
          "xml-order": 180
        },
        "item [5..10]": {
          "id": "#Questionnaire.item.item",
          "ref": "http://hl7.org/fhir/StructureDefinition/Questionnaire, subschema #Questionnaire.item",
          "xml-order": 190
        }
      },
      "xml-order": 300
    }
  }
}